{"version":3,"sources":["locations.js","itemList.js","sidebar.js","map.js","App.js","registerServiceWorker.js","index.js"],"names":["Locations","name","position","lat","lng","venue_id","Item","marker","this","props","$","click","removeClass","addClass","addListener","keypress","event","which","target","_this","react_default","a","createElement","tabIndex","role","onClick","openInfoBox","Component","Sidebar","map","className","aria-label","aria-modal","htmlFor","id","placeholder","value","query","onChange","updateResult","searchedPlaces","itemList","key","tips","toggleSidebar","Map","state","loaded","informationBox","allPlaces","markers","initMap","window","google","maps","document","getElementById","center","zoom","InfoWindow","content","setState","loadMarkers","forEach","place","addMarker","loadData","tip","url","concat","fetch","then","response","response2","clone","json","data","status","items","text","feedback","count","push","loadMarkersData","res","navigator","onLine","serviceWorker","ready","registration","caches","open","cache","console","log","put","catch","alert","setContent","panTo","getPosition","attr","firstTabbable","lastTabbable","focus","keydown","e","shiftKey","preventDefault","Marker","animation","Animation","DROP","currentPlace","_this2","setAnimation","BOUNCE","setTimeout","toLowerCase","indexOf","setVisible","close","filterPlaces","newPlaces","match","RegExp","escapeRegExp","filter","test","newScript","head","appendChild","src","async","loadScript","_this$state","bounds","LatLngBounds","m","extend","fitBounds","_this$state2","sidebar","App","focusTrap","src_map","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","register","onupdatefound","installingWorker","installing","onstatechange","addAll","controller","error","ReactDOM","render","BrowserRouter","basename","process","src_App_0","URL","origin","addEventListener","headers","get","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.0e99fec4.chunk.js","sourcesContent":["export const Locations = [\r\n    {\r\n        name: 'Inorbit Mall',\r\n        position: {lat: 17.4343693, lng:  78.38442},\r\n        venue_id: '4ba0debcf964a520768337e3'\r\n    },\r\n    {\r\n        name: 'Forum Sujana Mall',\r\n        position: { lat: 17.4840214, lng: 78.3866567},\r\n        venue_id: '541193bb498e516757fdf7fa'\r\n    },\r\n    {\r\n        name: 'Manjeera Trinity Mall',\r\n        position: { lat: 17.4899643, lng: 78.3909384},\r\n        venue_id: '525800cc11d25864dcc09581'\r\n    },\r\n    {\r\n        name: 'City Center Mall',\r\n        position: {lat: 17.4145167, lng: 78.4465899},\r\n        venue_id: '4b645c79f964a52048ad2ae3'\r\n    },\r\n    {\r\n        name: 'PVR Next Galleria Mall',\r\n        position: {lat: 17.4290096, lng: 78.4480587},\r\n        venue_id: '5a8af33d9fca567a057ff31c'\r\n    },\r\n    {\r\n        name: 'PVR Icon',\r\n        position: {lat: 17.4478958, lng: 78.3823586},\r\n        venue_id: '5a8710ab3b4e00284ecece79'\r\n    },\r\n    {\r\n        name: 'SLN Terminus Mall',\r\n        position: {lat: 17.4523613, lng: 78.3607897},\r\n        venue_id: '561a76e6498e5335924cdfbb'\r\n    },\r\n    {\r\n        name: 'NSL Centrum Mall',\r\n        position: {lat: 17.483262, lng: 78.3913397},\r\n        venue_id: '4ed9d9d85c5c96a2fd9907e2'\r\n    },\r\n    {\r\n        name: 'Spencer\\'s Mall',\r\n        position: {lat: 17.3698563, lng: 78.4263488},\r\n        venue_id: '50792dd6e4b0109f3532cf0e'\r\n    }\r\n];\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\n\r\nclass Item extends Component{\r\n\r\n    componentDidMount(){\r\n        const {marker} = this.props;\r\n        //add active class when listItem is click\r\n        $('.location-list li').click(function () {\r\n            $('.location-list .active').removeClass('active');\r\n            $(this).addClass('active');\r\n        })\r\n        marker.addListener(\"click\", function() {\r\n            $('.location-list .active').removeClass('active');\r\n        });\r\n        //Add Interactivity for Enter Key to improve a11y\r\n        $('.location-list li').keypress(function(event) {\r\n            if (event.which === 13) {\r\n                $(event.target).click();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {marker} = this.props;\r\n        return(\r\n                <li tabIndex=\"0\" role=\"button\" onClick={() => this.props.openInfoBox(marker)}>{marker.name}</li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Item;\r\n","import React, { Component } from 'react';\r\nimport Item from './itemList'\r\nimport './App.css';\r\n\r\nclass Sidebar extends Component {\r\n    render(){\r\n        const {map} = this.props;\r\n        return (\r\n            <div className=\"sidebar\" aria-label=\"Sidebar Navigation\" aria-modal=\"true\">\r\n                <label htmlFor=\"search\">Enter the Mall Name</label>\r\n                <input id=\"search\" tabIndex=\"0\" aria-label=\"Search Malls\"  placeholder=\"Search Malls\"\r\n                value={this.props.query}\r\n                onChange={(event) => this.props.updateResult(event.target.value, map)}\r\n                />\r\n                <ul className=\"location-list\">\r\n                {this.props.searchedPlaces.map((marker) => (\r\n                    <Item\r\n                        key={marker.name}\r\n                        className=\"\"\r\n                        map={map}\r\n                        marker={marker}\r\n                        tips = {this.props.tips}\r\n                        toggleSidebar={this.props.toggleSidebar}\r\n                        openInfoBox = {this.props.openInfoBox}/>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { Component } from 'react';\r\nimport { Locations } from './locations.js';\r\nimport escapeRegExp from 'escape-string-regexp';\r\nimport Sidebar from './sidebar.js';\r\nimport $ from 'jquery';\r\n\r\nclass Map extends Component {\r\n    state = {\r\n        map: { loaded: true },\r\n        informationBox: {},\r\n        allPlaces : Locations,\r\n        markers: [],\r\n        query:'',\r\n        tips:[],\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.initMap = this.initMap;\r\n        loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyB-Qm2gTBeiX0PiY14ijGy8JZ_s5S-OQH4&callback=initMap');\r\n    }\r\n\r\n    initMap = () => {\r\n        // initialising the map of Hyderabad\r\n        const map = new window.google.maps.Map(document.getElementById('map'), {\r\n            center: {lat: 17.3924137, lng: 78.4653866},\r\n            zoom:11,\r\n        });\r\n\r\n        const informationBox = new window.google.maps.InfoWindow({\r\n            content: 'content'\r\n        });\r\n        this.setState({map, informationBox});\r\n        this.loadMarkers();\r\n    }\r\n\r\n    loadMarkers = () => {\r\n        const {allPlaces} = this.state;\r\n        allPlaces.forEach((place) => {\r\n            let marker = this.addMarker(this.state.map, place);\r\n            this.loadData(place, marker);\r\n        });\r\n    }\r\n\r\n    loadData = (place, marker) => {\r\n        const {tips} = this.state;\r\n        let tip;\r\n\r\n        const clientId = \"JOM235CWVCY4NL3D30035XZHM2P2PBN0CDZ34FRGX2X25WTK\";\r\n        const clientSecret = \"0TFK5GIHLWAVRNJ0KLOFIVCCAMK2ZACQBDIPP4NEDMK0VZXH\";\r\n        const url = `https://api.foursquare.com/v2/venues/${place.venue_id}/tips?&client_id=${clientId}&client_secret=${clientSecret}&v=20181026`;\r\n\r\n        //fetch data from foursquare\r\n        fetch(url)\r\n        .then((response) => {\r\n            let response2 = response.clone();\r\n            response.json().then((data) => {\r\n            // handle Errors\r\n            if (response.status === 200) {\r\n                if(data.response.tips.items[0]){\r\n                    tip = {text: data.response.tips.items[0].text, name: place.name, position: place.position, feedback: data.response.tips.count}\r\n                }\r\n                else{\r\n                    tip = {text: 'No user feedback available', name: place.name, position: place.position,feedback: 0}\r\n                }\r\n            } else {\r\n                tip = {text:\"Sorry, Unable to retrieve data from Foursquare\", name: place.name, position: place.position, feedback:'No Data Fetched'}\r\n            }\r\n            tips.push(tip);\r\n            this.setState(tips);\r\n            this.loadMarkersData(tip, marker);\r\n            })\r\n            return response2;\r\n        }).then(function(res){\r\n            if(navigator.onLine){\r\n                navigator.serviceWorker.ready.then(function(registration){\r\n                    let cacheName = 'onejeet-react-app';\r\n                    return caches.open(cacheName).then(function (cache) {\r\n                        console.log('FourSquare Data Fetched & Cached');\r\n                        return cache.put(url, res);\r\n                    });\r\n                });\r\n            }\r\n        })\r\n        .catch(() => {\r\n                alert(\"Sorry, Unable to retrieve data from Foursquare\");\r\n        })\r\n    }\r\n\r\n    loadMarkersData = (place,marker) => {\r\n        marker.name = place.name;\r\n        marker.text = place.text;\r\n        marker.feedback = place.feedback;\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        //add bounds\r\n        const {markers,map} = this.state;\r\n        if (!map.loaded) {\r\n        let bounds = new window.google.maps.LatLngBounds();\r\n\r\n        markers.forEach((m)=>\r\n        bounds.extend(m.position))\r\n        map.fitBounds(bounds)\r\n        }\r\n    }\r\n\r\n    openInfoBox = (marker) => {\r\n        const {map} = this.state;\r\n        this.state.informationBox.setContent(`\r\n        <div class=\"informationBox\" tabIndex=\"1\" aria-modal=\"true\" aria-label=\"${marker.name} Information Window\">\r\n            <div name=\"${marker.name}\">\r\n                <h3 tabIndex=\"1\">${marker.name}</h3>\r\n                <p tabIndex=\"1\">${marker.text}</p>\r\n                <p tabIndex=\"1\">Total Feedbacks: ${marker.feedback}</p>\r\n                <p tabIndex=\"-1\">Data is fetched from Foursquare.</p>\r\n            </div>\r\n            </div>`);\r\n        this.state.map.panTo(marker.getPosition());\r\n        this.state.informationBox.open(map, marker);\r\n        window.google.maps.event.addListener(this.state.informationBox, 'domready', function(){\r\n            //Set Alt Tag for InfoWindow Close Button\r\n            $('button.gm-ui-hover-effect img').attr('alt','close');\r\n            //trap the focus inside infowWindow\r\n            let firstTabbable = $('.informationBox');\r\n            let lastTabbable = $('button.gm-ui-hover-effect');\r\n            lastTabbable.attr('tabIndex','1');\r\n            firstTabbable.focus();\r\n            lastTabbable.keydown(function(e){\r\n                if ((e.which === 9 && !e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    firstTabbable.focus();\r\n                }\r\n            });\r\n            firstTabbable.keydown(function(e){\r\n                if ((e.which === 9 && e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    lastTabbable.focus();\r\n                }\r\n            });\r\n            //close the InfoWindow on enter\r\n            lastTabbable.keydown(function(e){\r\n                if (e.which === 13) {\r\n                    e.preventDefault();\r\n                    lastTabbable.click();\r\n                    $('.location-list li.active').focus();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    addMarker = (map, place) => {\r\n        const {markers} = this.state;\r\n        //add marker\r\n        if (!map.loaded) {\r\n        const marker = new window.google.maps.Marker({\r\n            position: {lat: place.position.lat, lng: place.position.lng},\r\n            map,\r\n            name:place.name,\r\n            animation: window.google.maps.Animation.DROP,\r\n        });\r\n        //open informationBox content on marker click\r\n        marker.addListener('click', () => {\r\n            this.setState({currentPlace:place});\r\n            this.state.informationBox.setContent('Loading Data...');\r\n            this.openInfoBox(marker);\r\n        });\r\n        //animation marker bounce on mouseover\r\n        marker.addListener('mouseover', function() {\r\n            this.setAnimation(window.google.maps.Animation.BOUNCE);\r\n            setTimeout(() => this.setAnimation(null), 400)\r\n        });\r\n        markers.push(marker)\r\n        this.setState({markers})\r\n        return marker;\r\n    }\r\n    }\r\n\r\n    updateResult = (query, map) => {\r\n        this.setState({query: query})\r\n        const {markers} = this.state;\r\n        //filter markers\r\n        markers.forEach((marker) => {\r\n            if (marker.name.toLowerCase().indexOf(query.toLowerCase()) >= 0){\r\n                marker.setVisible(true);\r\n                this.state.informationBox.close(map, marker);\r\n            } else {\r\n                marker.setVisible(false);\r\n            }\r\n        });\r\n        this.setState({markers});\r\n    };\r\n\r\n    filterPlaces = (query, markers) => {\r\n        let newPlaces;\r\n        if (query){\r\n            const match = new RegExp(escapeRegExp(query),'i');\r\n            newPlaces = markers.filter((marker)=>match.test(marker.name))\r\n        }\r\n        else{\r\n          newPlaces=markers;\r\n        }\r\n        return newPlaces;\r\n    }\r\n\r\n    render() {\r\n        const {query,markers} = this.state;\r\n        let searchedPlaces = this.filterPlaces(query, markers);\r\n        return (\r\n            <main className=\"container\" role=\"main\">\r\n                <Sidebar\r\n                updateResult= {this.updateResult}\r\n                query={this.state.query}\r\n                map={this.state.map}\r\n                searchedPlaces={searchedPlaces}\r\n                marker={this.state.markers}\r\n                tips = {this.state.tips}\r\n                toggleSidebar={this.props.toggleSidebar}\r\n                openInfoBox = {this.openInfoBox}\r\n                />\r\n                <div className=\"map-container\" tabIndex=\"-1\">\r\n                    <div id=\"map\" role=\"application\"/>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nfunction loadScript(url) {\r\n    var newScript = document.createElement(\"script\");\r\n    // newScript.onerror = alert('Google Map Not Loaded!');\r\n    document.head.appendChild(newScript);\r\n    newScript.src = url;\r\n    newScript.async = true;\r\n}\r\nexport default Map;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Map from './map.js';\r\nimport $ from 'jquery';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        sidebar : 'closed'\r\n    }\r\n\r\n    componentDidMount(){\r\n        //Add Interactivity for Enter Key to improve a11y\r\n        $('#hamburger-icon').keydown(function(event) {\r\n            if (event.which === 13) {\r\n                $(event.target).click();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    focusTrap = () => {\r\n        if(this.state.sidebar === 'closed'){\r\n            //alert('Sidebar Trap Started');\r\n            let firstTabbable = $('#hamburger-icon');\r\n            let lastTabbable = $('.location-list li:last-child');\r\n            lastTabbable.keydown(function(e){\r\n                if ((e.which === 9 && !e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    firstTabbable.focus();\r\n                }\r\n            });\r\n            firstTabbable.keydown(function(e){\r\n                if ((e.which === 9 && e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    lastTabbable.focus();\r\n                }\r\n            });\r\n        }\r\n   }\r\n\r\n    toggleSidebar = () => {\r\n        //Open and close sidebar function\r\n        if(this.state.sidebar === 'open'){\r\n            this.setState({sidebar: 'closed'});\r\n            $('.sidebar').removeClass('showSidebar');\r\n            $('#hamburger-icon').removeClass(\"change\");\r\n            $('#hamburger-icon').attr('aria-label','Open Sidebar Menu');\r\n        }else{\r\n            this.setState({sidebar: 'open'}, this.focusTrap());\r\n            $('.sidebar').addClass('showSidebar');\r\n            $('#hamburger-icon').addClass(\"change\");\r\n            $('#hamburger-icon').attr('aria-label','Close Sidebar Menu');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"app\">\r\n                <header className=\"header\">\r\n                    <div className=\"logo\">Hyderabad Malls</div>\r\n                </header>\r\n                <div id=\"hamburger-icon\" tabIndex=\"0\" aria-label=\"Open Sidebar Menu\" onClick={this.toggleSidebar}>\r\n                    <div className=\"bar1\"></div>\r\n                    <div className=\"bar2\"></div>\r\n                    <div className=\"bar3\"></div>\r\n                </div>\r\n                <Map google={this.props.google} toggleSidebar={this.toggleSidebar} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            caches.open('onejeet-react-app').then(cache => {\r\n                return cache.addAll(['/favicon.ico']);\r\n            });\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(<Router basename={process.env.PUBLIC_URL}><App /></Router>, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}