{"version":3,"sources":["locations.js","itemList.js","sidebar.js","map.js","App.js","registerServiceWorker.js","index.js"],"names":["Locations","name","position","lat","lng","venue_id","Item","openMarker","_this$props","_this","props","map","informationBox","marker","toggleSidebar","window","innerWidth","panTo","getPosition","setContent","concat","title","text","feedback","setAnimation","google","maps","Animation","BOUNCE","setTimeout","open","event","addListener","$","attr","tabbableItem","firstTabbable","lastTabbable","focus","keydown","e","which","shiftKey","preventDefault","click","this","removeClass","addClass","keypress","target","react_default","a","createElement","tabIndex","role","onClick","Component","Sidebar","className","aria-label","aria-modal","htmlFor","id","placeholder","value","query","onChange","updateResult","searchedPlaces","itemList","key","Map","state","loaded","allPlaces","markers","tips","initMap","document","getElementById","center","zoom","navigator","onLine","serviceWorker","ready","then","registration","caches","cache","add","catch","error","InfoWindow","content","setState","loadPlacesData","_this$state","flag","forEach","place","url","fetch","response","response2","clone","json","data","tip","status","items","count","push","addMarker","res","put","console","log","alert","Marker","animation","DROP","_this2","toLowerCase","indexOf","setVisible","close","filterPlaces","newPlaces","match","RegExp","escapeRegExp","filter","test","newScript","head","appendChild","src","async","loadScript","_this$state2","bounds","LatLngBounds","m","extend","fitBounds","sidebar","App","focusTrap","src_map","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","register","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","src_App_0","URL","process","origin","addEventListener","headers","get","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.3908b8e1.chunk.js","sourcesContent":["export const Locations = [\r\n    {\r\n        name: 'Inorbit Mall',\r\n        position: {lat: 17.4343693, lng:  78.38442},\r\n        venue_id: '4ba0debcf964a520768337e3'\r\n    },\r\n    {\r\n        name: 'Forum Sujana Mall',\r\n        position: { lat: 17.4840214, lng: 78.3866567},\r\n        venue_id: '541193bb498e516757fdf7fa'\r\n    },\r\n    {\r\n        name: 'Manjeera Trinity Mall',\r\n        position: { lat: 17.4899643, lng: 78.3909384},\r\n        venue_id: '525800cc11d25864dcc09581'\r\n    },\r\n    {\r\n        name: 'City Center Mall',\r\n        position: {lat: 17.4145167, lng: 78.4465899},\r\n        venue_id: '4b645c79f964a52048ad2ae3'\r\n    },\r\n    {\r\n        name: 'PVR Next Galleria Mall',\r\n        position: {lat: 17.4290096, lng: 78.4480587},\r\n        venue_id: '5a8af33d9fca567a057ff31c'\r\n    },\r\n    {\r\n        name: 'PVR Icon',\r\n        position: {lat: 17.4478958, lng: 78.3823586},\r\n        venue_id: '5a8710ab3b4e00284ecece79'\r\n    },\r\n    {\r\n        name: 'SLN Terminus Mall',\r\n        position: {lat: 17.4523613, lng: 78.3607897},\r\n        venue_id: '561a76e6498e5335924cdfbb'\r\n    },\r\n    {\r\n        name: 'NSL Centrum Mall',\r\n        position: {lat: 17.483262, lng: 78.3913397},\r\n        venue_id: '4ed9d9d85c5c96a2fd9907e2'\r\n    },\r\n    {\r\n        name: 'Spencer\\'s Mall',\r\n        position: {lat: 17.3698563, lng: 78.4263488},\r\n        venue_id: '50792dd6e4b0109f3532cf0e'\r\n    }\r\n];\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\n\r\nclass Item extends Component{\r\n\r\n    //open marker function opens the marker when clicked on listItem\r\n    openMarker = () => {\r\n        const {map, informationBox, marker, toggleSidebar} = this.props;\r\n        if(window.innerWidth <= 991){\r\n            toggleSidebar();\r\n        }\r\n        map.panTo(marker.getPosition());\r\n        informationBox.setContent(\r\n            `<div class=\"informationBox\" tabIndex=\"1\" aria-modal=\"true\">\r\n                <div name=\"${marker.title}\">\r\n                    <h3 tabIndex=\"1\">${marker.title}</h3>\r\n                    <p tabIndex=\"1\">${marker.text}</p>\r\n                    <p tabIndex=\"1\">Total Feedbacks: ${marker.feedback}</p>\r\n                    <p tabIndex=\"1\">Data is fetched from Foursquare.</p>\r\n                </div>\r\n            </div>`\r\n        );\r\n        //marker animation bounce when clicked on the listItem\r\n        marker.setAnimation(window.google.maps.Animation.BOUNCE);\r\n        setTimeout(() => {\r\n            marker.setAnimation(null)\r\n        }, 800);\r\n        informationBox.open(map, marker);\r\n        window.google.maps.event.addListener(informationBox, 'domready', function(){\r\n            //Set Alt Tag for InfoWindow Close\r\n            $('button.gm-ui-hover-effect img').attr('alt','close');\r\n            //trap the focus inside infowWindow\r\n            let tabbableItem = $('.location-list li.active');\r\n            let firstTabbable = $('.informationBox');\r\n            let lastTabbable = $('button.gm-ui-hover-effect');\r\n            lastTabbable.attr('tabIndex','1');\r\n            firstTabbable.focus();\r\n            lastTabbable.keydown(function(e){\r\n                if ((e.which === 9 && !e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    firstTabbable.focus();\r\n                }\r\n            });\r\n            firstTabbable.keydown(function(e){\r\n                if ((e.which === 9 && e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    lastTabbable.focus();\r\n                }\r\n            });\r\n            //return the focus to side bar active menu\r\n            // and close the InfoWindow on enter\r\n            lastTabbable.keydown(function(e){\r\n                if (e.which === 13) {\r\n                    e.preventDefault();\r\n                    lastTabbable.click();\r\n                    tabbableItem.focus();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        const {marker} = this.props;\r\n        //add active class when listItem is click\r\n        $('.location-list li').click(function () {\r\n            $('.location-list .active').removeClass('active');\r\n            $(this).addClass('active');\r\n        })\r\n        marker.addListener(\"click\", function() {\r\n            $('.location-list .active').removeClass('active');\r\n        });\r\n        //Add Interactivity for Enter Key to improve a11y\r\n        $('.location-list li').keypress(function(event) {\r\n            if (event.which === 13) {\r\n                $(event.target).click();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const {marker} = this.props;\r\n        return(\r\n                <li tabIndex=\"0\" role=\"button\" onClick={this.openMarker}>{marker.title}</li>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Item;\r\n","import React, { Component } from 'react';\r\nimport Item from './itemList'\r\nimport './App.css';\r\n\r\nclass Sidebar extends Component {\r\n    render(){\r\n        const {map,informationBox} = this.props;\r\n        return (\r\n            <div className=\"sidebar\" aria-label=\"Sidebar Navigation\" aria-modal=\"true\">\r\n                <label htmlFor=\"search\">Enter the Mall Name</label>\r\n                <input id=\"search\" tabIndex=\"0\" aria-label=\"Search Malls\"  placeholder=\"Search Malls\"\r\n                value={this.props.query}\r\n                onChange={(event) => this.props.updateResult(event.target.value, map)}\r\n                />\r\n                <ul className=\"location-list\">\r\n                {this.props.searchedPlaces.map((marker) => (\r\n                    <Item\r\n                        key={marker.title} className=\"\"\r\n                        map={map}\r\n                        marker={marker}\r\n                        toggleSidebar={this.props.toggleSidebar}\r\n                        informationBox={informationBox}/>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { Component } from 'react';\r\nimport { Locations } from './locations.js';\r\nimport escapeRegExp from 'escape-string-regexp';\r\nimport Sidebar from './sidebar.js';\r\nimport $ from 'jquery';\r\n\r\nclass Map extends Component {\r\n    state = {\r\n        map: { loaded: true },\r\n        informationBox: {},\r\n        allPlaces : Locations,\r\n        markers: [],\r\n        query:'',\r\n        tips:[],\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.initMap = this.initMap;\r\n        loadScript('https://maps.googleapis.com/maps/api/js?key=AIzaSyB-Qm2gTBeiX0PiY14ijGy8JZ_s5S-OQH4&callback=initMap')\r\n    }\r\n\r\n    initMap = () => {\r\n        // initialising the map of Hyderabad\r\n        const map = new window.google.maps.Map(document.getElementById('map'), {\r\n            center: {lat: 17.3924137, lng: 78.4653866},\r\n            zoom:11,\r\n        });\r\n\r\n        // Add Google Map Initial data to Cache\r\n        if(navigator.onLine){\r\n            navigator.serviceWorker.ready.then(function(registration){\r\n                let cacheName = 'onejeet-react-app';\r\n                return caches.open(cacheName).then(function (cache) {\r\n                    cache.add(map);\r\n                });\r\n            }).catch(function(error){\r\n                \r\n            })\r\n        }\r\n\r\n        const informationBox = new window.google.maps.InfoWindow({\r\n            content: 'content'\r\n        });\r\n        this.setState({map, informationBox});\r\n        this.loadPlacesData();\r\n    }\r\n\r\n    loadPlacesData = () => {\r\n        const {tips,allPlaces} = this.state\r\n        var flag = true;\r\n        allPlaces.forEach(place => {\r\n\r\n        const clientId = \"JOM235CWVCY4NL3D30035XZHM2P2PBN0CDZ34FRGX2X25WTK\";\r\n        const clientSecret = \"0TFK5GIHLWAVRNJ0KLOFIVCCAMK2ZACQBDIPP4NEDMK0VZXH\";\r\n        const url = `https://api.foursquare.com/v2/venues/${place.venue_id}/tips?&client_id=${clientId}&client_secret=${clientSecret}&v=20181026`;\r\n\r\n        //fetch data from foursquare\r\n        fetch(url)\r\n        .then((response) => {\r\n            let response2 = response.clone();\r\n            response.json().then((data) => {\r\n            let tip\r\n            // handle Errors\r\n            if (response.status === 200) {\r\n                if(data.response.tips.items[0]){\r\n                    tip = {text: data.response.tips.items[0].text, name: place.name, position: place.position, feedback: data.response.tips.count}\r\n                }\r\n                else{\r\n                    tip = {text: 'No user feedback available', name: place.name, position: place.position,feedback: 0}\r\n                }\r\n            } else {\r\n                tip = {text:\"Sorry, Unable to retrieve data from Foursquare\", name: place.name, position: place.position, feedback:'No Data Fetched'}\r\n            }\r\n            tips.push(tip);\r\n            this.setState(tips);\r\n            this.addMarker(this.state.map, tip);\r\n        })\r\n        return response2;\r\n        })\r\n        //add urls to the cache\r\n        .then(function (res) {\r\n            if(navigator.onLine){\r\n                navigator.serviceWorker.ready.then(function(registration){\r\n                    let cacheName = 'onejeet-react-app';\r\n                    return caches.open(cacheName).then(function (cache) {\r\n                        cache.put(url, res);\r\n                        console.log('FourSquare Data Fetched & Cached');\r\n                    });\r\n                });\r\n            }\r\n        }).catch(() => {\r\n            if(flag){\r\n                alert(`Sorry, Unable to retrieve data from Foursquare. Please try again later.`);\r\n            }\r\n            flag = false;\r\n            })\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        //add bounds\r\n        const {markers,map} = this.state;\r\n        if (!map.loaded) {\r\n        let bounds = new window.google.maps.LatLngBounds();\r\n\r\n        markers.forEach((m)=>\r\n        bounds.extend(m.position))\r\n        map.fitBounds(bounds)\r\n        }\r\n    }\r\n\r\n    addMarker = (map, place) => {\r\n        const {markers} = this.state;\r\n        //add marker\r\n        if (!map.loaded) {\r\n        const marker = new window.google.maps.Marker({\r\n            position: {lat: place.position.lat, lng: place.position.lng},\r\n            map,\r\n            text: place.text,\r\n            title: place.name,\r\n            feedback: place.feedback,\r\n            animation: window.google.maps.Animation.DROP,\r\n        });\r\n        //open informationBox content on marker click\r\n        marker.addListener('click', () => {\r\n            this.state.map.panTo(marker.getPosition());\r\n            this.state.informationBox.setContent(`\r\n            <div class=\"informationBox\" tabIndex=\"1\" aria-modal=\"true\">\r\n                <div name=\"${marker.title}\">\r\n                    <h3 tabIndex=\"1\">${marker.title}</h3>\r\n                    <p tabIndex=\"1\">${marker.text}</p>\r\n                    <p tabIndex=\"1\">Total Feedbacks: ${marker.feedback}</p>\r\n                    <p tabIndex=\"1\">Data is fetched from Foursquare.</p>\r\n                </div>\r\n                </div>`);\r\n            this.state.informationBox.open(map, marker);\r\n\r\n            window.google.maps.event.addListener(this.state.informationBox, 'domready', function(){\r\n                //Set Alt Tag for InfoWindow Close Button\r\n                $('button.gm-ui-hover-effect img').attr('alt','close');\r\n                //trap the focus inside infowWindow\r\n                let firstTabbable = $('.informationBox');\r\n                let lastTabbable = $('button.gm-ui-hover-effect');\r\n                lastTabbable.attr('tabIndex','1');\r\n                firstTabbable.focus();\r\n                lastTabbable.keydown(function(e){\r\n                    if ((e.which === 9 && !e.shiftKey)) {\r\n                        e.preventDefault();\r\n                        firstTabbable.focus();\r\n                    }\r\n                });\r\n                firstTabbable.keydown(function(e){\r\n                    if ((e.which === 9 && e.shiftKey)) {\r\n                        e.preventDefault();\r\n                        lastTabbable.focus();\r\n                    }\r\n                });\r\n                //close the InfoWindow on enter\r\n                lastTabbable.keydown(function(e){\r\n                    if (e.which === 13) {\r\n                        e.preventDefault();\r\n                        lastTabbable.click();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        //animation marker bounce on mouseover\r\n        marker.addListener('mouseover', function() {\r\n            this.setAnimation(window.google.maps.Animation.BOUNCE);\r\n            setTimeout(() => this.setAnimation(null), 400)\r\n        });\r\n        markers.push(marker)\r\n        this.setState({markers})\r\n    }\r\n    }\r\n\r\n    updateResult = (query, map) => {\r\n        this.setState({query: query})\r\n        const {markers} = this.state\r\n        //filter markers\r\n        markers.forEach((marker) => {\r\n            if (marker.title.toLowerCase().indexOf(query.toLowerCase()) >= 0){\r\n                marker.setVisible(true);\r\n                this.state.informationBox.close(map, marker);\r\n            } else {\r\n                marker.setVisible(false);\r\n            }\r\n        });\r\n        this.setState({markers});\r\n    };\r\n\r\n    filterPlaces = (query, markers) => {\r\n        let newPlaces;\r\n        if (query){\r\n            const match = new RegExp(escapeRegExp(query),'i');\r\n            newPlaces = markers.filter((marker)=>match.test(marker.title))\r\n        }\r\n        else{\r\n          newPlaces=markers;\r\n        }\r\n        return newPlaces;\r\n    }\r\n\r\n    render() {\r\n        const {query} = this.state;\r\n        const {markers} = this.state\r\n        let searchedPlaces = this.filterPlaces(query, markers);\r\n        return (\r\n            <main className=\"container\" role=\"main\">\r\n                <Sidebar\r\n                updateResult= {this.updateResult}\r\n                query={this.state.query}\r\n                map={this.state.map}\r\n                searchedPlaces={searchedPlaces}\r\n                marker={this.state.markers}\r\n                informationBox={this.state.informationBox}\r\n                toggleSidebar={this.props.toggleSidebar}\r\n                />\r\n                <div className=\"map-container\" tabIndex=\"-1\">\r\n                    <div id=\"map\" role=\"application\"/>\r\n                </div>\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nfunction loadScript(url) {\r\n    var newScript = document.createElement(\"script\");\r\n    // newScript.onerror = alert('Google Map Not Loaded!');\r\n    document.head.appendChild(newScript);\r\n    newScript.src = url;\r\n    newScript.async = true;\r\n}\r\nexport default Map;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Map from './map.js';\r\nimport $ from 'jquery';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        sidebar : 'closed'\r\n    }\r\n\r\n    componentDidMount(){\r\n        //Add Interactivity for Enter Key to improve a11y\r\n        $('#hamburger-icon').keydown(function(event) {\r\n            if (event.which === 13) {\r\n                $(event.target).click();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    focusTrap = () => {\r\n        if(this.state.sidebar === 'closed'){\r\n            //alert('Sidebar Trap Started');\r\n            let firstTabbable = $('#hamburger-icon');\r\n            let lastTabbable = $('.location-list li:last-child');\r\n            lastTabbable.keydown(function(e){\r\n                if ((e.which === 9 && !e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    firstTabbable.focus();\r\n                }\r\n            });\r\n            firstTabbable.keydown(function(e){\r\n                if ((e.which === 9 && e.shiftKey)) {\r\n                    e.preventDefault();\r\n                    lastTabbable.focus();\r\n                }\r\n            });\r\n        }\r\n   }\r\n\r\n    toggleSidebar = () => {\r\n        //Open and close sidebar function\r\n        if(this.state.sidebar === 'open'){\r\n            this.setState({sidebar: 'closed'});\r\n            $('.sidebar').removeClass('showSidebar');\r\n            $('#hamburger-icon').removeClass(\"change\");\r\n            $('#hamburger-icon').attr('aria-label','Open Sidebar Menu');\r\n        }else{\r\n            this.setState({sidebar: 'open'}, this.focusTrap());\r\n            $('.sidebar').addClass('showSidebar');\r\n            $('#hamburger-icon').addClass(\"change\");\r\n            $('#hamburger-icon').attr('aria-label','Close Sidebar Menu');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"app\">\r\n                <header className=\"header\">\r\n                    <div className=\"logo\">Hyderabad Malls</div>\r\n                </header>\r\n                <div id=\"hamburger-icon\" tabIndex=\"0\" aria-label=\"Open Sidebar Menu\" onClick={this.toggleSidebar}>\r\n                    <div className=\"bar1\"></div>\r\n                    <div className=\"bar2\"></div>\r\n                    <div className=\"bar3\"></div>\r\n                </div>\r\n                <Map google={this.props.google} toggleSidebar={this.toggleSidebar} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}